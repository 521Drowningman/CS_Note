# gdb

由于从来没有使用过gdb,所以这里关于gdb的使用从0开始；

何为gdb：GDB是linux下非常好用且强大的调试工具,对于C/C++程序员来说gdb调试是必须要掌握的技能; GDB由GUN社区提供同GCC配套组成了一套完整的开发环境.

>  GDB所提供的帮助:
>
> + 程序启动时,可以按照自定义的要求运行程序,例如设置参数和环境变量；
> + 可以让被调试的程序在所指定的代码处暂停运行，并查看当前运行状态 （例如当前变量的值，函数的执行结果），即支持断点调试;
> + 当程序被停住时，可以检查当前程序的中的变量的状态；
> + 在程序执行过程中，可以改变某个变量的值，还可以改变代码的执行顺序，从而尝试修改程序中出现的逻辑错误;

## 指令集

> `file [可执行文件 || 共享库]`   ——– 该命令用于指定要调试的可执行文件或共享库
>
> `info b`   ——– 可以查看当前设置的所有断点
>
> `b [函数名]`     ——-  打断点
>
> `c`     ——- 从一个断点处运行到另一个断点处
>
> `bt(backtrace)`  ——– 用于显示当前调用栈,即程序在执行到当前断点或异常时所经过的函数调用序列.
>
> `n(next)`    ——–  逐行执行代码,但不会进入函数调用
>
> + 如果当前行是一个函数调用，`n` 命令会执行整个函数调用，并在函数返回后停在下一行代码。
> + 如果当前行不是函数调用，`n` 命令会执行当前行，并在下一行代码处暂停。
> + 当你想逐行执行代码，但不希望进入函数内部时，使用 `n` 命令。
>
> `s(step)`  ———  逐行执行代码，并且会进入函数调用。
>
> + 如果当前行是一个函数调用，`s` 命令会进入该函数，并在函数的第一行代码处暂停。
> + 如果当前行不是函数调用，`s` 命令会执行当前行，并在下一行代码处暂停。
> + 当你想逐行执行代码，并且希望进入函数内部时，使用 `s` 命令。
>
> `p(print) 变量名` ——– 打印变量值
>
> `si`  ——— 用于执行单步指令,逐条执行机器指令,而不是逐条执行源代码行.

## 布局

> 在GDB中，可以使用以下命令来控制布局的显示：
>
> - *layout src*：显示源代码窗口。
> - *layout asm*：显示汇编窗口。
> - *layout regs*：同时显示源代码/汇编和寄存器窗口。
> - *layout split*：同时显示源代码和汇编窗口。
> - *layout next*：切换到下一个布局。
> - *layout prev*：切换到上一个布局。
>
> 此外，还有一些快捷键可以用来刷新窗口或改变窗口模式：
>
> - *Ctrl + L*：刷新窗口。
> - *Ctrl + X*，然后按*1*：单窗口模式，只显示一个窗口。
> - *Ctrl + X*，然后按*2*：双窗口模式，显示两个窗口。
> - *Ctrl + X*，然后按*A*：退出布局模式，返回到执行*layout*之前的调试窗口。